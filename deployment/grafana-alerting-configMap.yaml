apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-alerting-config
data:
  alerting.yaml: |
      apiVersion: 1
      groups:
          - orgId: 1
            name: SSV-EG
            folder: SSV-Alert
            interval: 1m
            rules:
              # - uid: ce1cb4bc-462c-4225-847c-0d4ebd3372ff
              #   title: CPU Usage
              #   condition: D
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: avg(1 - avg(rate(node_cpu_seconds_total{origin_prometheus=~"",job=~"node_exporter",mode="idle"}[2m])) by (instance)) * 100
              #         format: time_series
              #         hide: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall average used%
              #         maxDataPoints: 43200
              #         refId: A
              #         step: 240
              #     - refId: B
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - C
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 50
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #     - refId: D
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 70
              #                     - 0
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params: []
              #               reducer:
              #                 params: []
              #                 type: avg
              #               type: query
              #         datasource:
              #             name: Expression
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: D
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 7
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "7"
              #     description: CPU Usage is {{ $values.B }} %
              #     summary: SSV- CPU Usage Alert
              #   isPaused: false
              # - uid: b1d341e2-2e7f-47d2-a222-97a28101ba99
              #   title: Memory Usage
              #   condition: C
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: (sum(node_memory_MemTotal_bytes{origin_prometheus=~"",job=~"node_exporter"} - node_memory_MemAvailable_bytes{origin_prometheus=~"",job=~"node_exporter"}) / sum(node_memory_MemTotal_bytes{origin_prometheus=~"",job=~"node_exporter"}))*100
              #         format: time_series
              #         hide: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall Average Used%
              #         maxDataPoints: 43200
              #         refId: A
              #     - refId: B
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - C
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 60
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #     - refId: D
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 70
              #                     - 0
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params: []
              #               reducer:
              #                 params: []
              #                 type: avg
              #               type: query
              #         datasource:
              #             name: Expression
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: D
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 195
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "195"
              #     description: Memory usage is {{ $values.B }} %
              #     summary: SSV- Memory usage
              #   isPaused: false
              # - uid: e659d834-441e-4eba-82cd-d178a2e78abc
              #   title: Total Disk Usage
              #   condition: C
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: (sum(avg(node_filesystem_size_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))) *100/(sum(avg(node_filesystem_avail_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))+(sum(avg(node_filesystem_size_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))))
              #         format: time_series
              #         instant: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall Average Used%
              #         maxDataPoints: 43200
              #         refId: A
              #     - refId: B
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - B
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 80
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 197
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "197"
              #     description: Disk usage is {{ $values.B }} %
              #     summary: SSV- Disk usage
              #   isPaused: false
              - uid: ae897e23-edde-4d23-9400-a63b1de3617c
                title: SSV_Beacon_Node
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: ssv_beacon_status
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 2
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: SSV
                panelId: 48
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: SSV
                  __panelId__: "48"
                  summary: The instance has been down for more than 30 seconds.
                isPaused: false
              - uid: a24bbae7-028d-4128-bc15-f77bc2b1b83b
                title: Geth_Alert
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: ssv_eth1_status
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: min
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 0.99
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: SSV
                panelId: 46
                noDataState: Alerting
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: SSV
                  __panelId__: "46"
                  summary: SSV_ETH_Status
                isPaused: false
              - uid: adf1fdfc-4229-4eeb-bdba-4a03d2e67291
                title: SSV_Node_Status
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: ssv_node_status + 1
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: min
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 1
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: SSV
                panelId: 44
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: SSV
                  __panelId__: "44"
                  summary: SSV node is down
                isPaused: false
              - uid: f81350e9-7ed6-4f9d-ae27-83114658f9ba
                title: SSV_Node_Error
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: ssv_node_status + 1
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 2
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: SSV
                panelId: 44
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: SSV
                  __panelId__: "44"
                  summary: SSV_Node is Facing an Error
                isPaused: false
              - uid: b46aca79-171b-440b-a766-58aceb6bc3f8
                title: SSV_Node_P2p
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: ssv_p2p_all_connected_peers
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 60
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 5
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: SSV
                panelId: 52
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: SSV
                  __panelId__: "52"
                  description: SSV operator peers
                  summary: SSV Operator node peers is {{ $values.B }} .
                isPaused: false
          - orgId: 1
            name: Geth-EG
            folder: Geth-Alert
            interval: 1m
            rules:
              - uid: ee7bf2a7-1f10-4071-9ad4-fc9668bbb908
                title: 'Geth Peers'
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      expr: p2p_peers
                      format: time_series
                      interval: ""
                      intervalFactor: 1
                      intervalMs: 15000
                      legendFormat: peers
                      maxDataPoints: 43200
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - D
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 5
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - E
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: GethSSVDASHBOARD
                panelId: 77
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: GethSSVDASHBOARD
                  __panelId__: "77"
                  description: Geth peers alert
                  summary: Geth peers is {{ $values.B }}.
                isPaused: false
              - uid: bfbd1332-fb50-475f-9b5f-f3ae81b52ser
                title: CPU Alert
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      expr: system_cpu_sysload
                      format: time_series
                      interval: ""
                      intervalFactor: 1
                      intervalMs: 15000
                      legendFormat: system
                      maxDataPoints: 43200
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - D
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 480
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - E
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: GethSSVDASHBOARD
                panelId: 106
                noDataState: NoData
                execErrState: Error
                for: 5m
                annotations:
                  __dashboardUid__: GethSSVDASHBOARD
                  __panelId__: "106"
                  description: Geth CPU Alert
                  summary: Geth CPU Usage is more than 60%
                isPaused: false
              - uid: c02d324d-65f0-43cb-b69d-c53k3223f22343
                title: Chain head Alerting Geth
                condition: E
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: chain_head_header
                      interval: ""
                      intervalMs: 15000
                      legendFormat: Chain_Head_Header
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: chain_head_receipt
                      hide: false
                      interval: ""
                      intervalMs: 15000
                      legendFormat: Chain_Head_Receipt
                      maxDataPoints: 43200
                      range: true
                      refId: B
                  - refId: D
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - D
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: D
                      type: reduce
                  - refId: E
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - -1
                                  - 1
                              type: within_range
                            operator:
                              type: and
                            query:
                              params:
                                  - E
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: D
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: E
                      type: threshold
                dashboardUid: GethSSVDASHBOARD
                panelId: 110
                noDataState: NoData
                execErrState: Error
                for: 5m
                annotations:
                  __dashboardUid__: GethSSVDASHBOARD
                  __panelId__: "110"
                  description: Latest Block
                  summary: Error in Block Syncing.
                isPaused: false    
          - orgId: 1
            name: Prysm-EG
            folder: Prysm-Alert
            interval: 1m
            rules:
              - uid: ba4e53c2-6578-4a8e-8fba-b1124a2a51da
                title: Prysm-CPU
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: (1 - avg(rate(node_cpu_seconds_total{instance=~"localhost:9100",mode="idle"}[2m])) by (instance))*100
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 39
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                  - refId: D
                    relativeTimeRange:
                      from: 120
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 69
                                  - 0
                              type: gt
                            operator:
                              type: and
                            query:
                              params: []
                            reducer:
                              params: []
                              type: avg
                            type: query
                      datasource:
                          name: Expression
                          type: __expr__
                          uid: __expr__
                      expression: B
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: D
                      type: threshold
                dashboardUid: PrysmSSV
                panelId: 191
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: PrysmSSV
                  __panelId__: "191"
                  description: Prysm CPU consumption Alert
                  summary: Prysm CPU consumption is {{ $values.B }}
                isPaused: false
              - uid: d5abe8e5-257d-405d-8450-ea59c6f05e15
                title: Prysm-Memory
                condition: D
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: (1 - (node_memory_MemAvailable_bytes{instance=~"localhost:9100"} / (node_memory_MemTotal_bytes{instance=~"localhost:9100"})))* 100
                      format: time_series
                      hide: false
                      interval: 30m
                      intervalFactor: 10
                      intervalMs: 15000
                      legendFormat: Used%
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - I
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 60
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - J
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                  - refId: D
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 80
                                  - 0
                              type: gt
                            operator:
                              type: and
                            query:
                              params: []
                            reducer:
                              params: []
                              type: avg
                            type: query
                      datasource:
                          name: Expression
                          type: __expr__
                          uid: __expr__
                      expression: B
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: D
                      type: threshold
                dashboardUid: PrysmSSV
                panelId: 156
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: PrysmSSV
                  __panelId__: "156"
                  summary: RAM consumption is {{ $values.B }} %
                isPaused: false
              - uid: da015fb0-c139-4ec4-b32b-644f99c4ae0d
                title: Prysm-Storage
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: (node_filesystem_size_bytes{instance=~'localhost:9100',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'localhost:9100',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}) *100/(node_filesystem_avail_bytes {instance=~'localhost:9100',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}+(node_filesystem_size_bytes{instance=~'localhost:9100',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'localhost:9100',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}))
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 70
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                  - refId: D
                    relativeTimeRange:
                      from: 300
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 80
                                  - 0
                              type: gt
                            operator:
                              type: and
                            query:
                              params: []
                            reducer:
                              params: []
                              type: avg
                            type: query
                      datasource:
                          name: Expression
                          type: __expr__
                          uid: __expr__
                      expression: B
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: D
                      type: threshold
                dashboardUid: PrysmSSV
                panelId: 174
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: PrysmSSV
                  __panelId__: "174"
                  description: Disk space is used {{ $values.B }} %
                  summary: Disk Space Alert
                isPaused: false
              - uid: f2ba845e-0621-4c9a-b05c-864afaaee0c9
                title: Prysm-Peers
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 600
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      editorMode: code
                      expr: p2p_peer_count{state="Connected"}
                      hide: false
                      intervalMs: 1000
                      legendFormat: __auto
                      maxDataPoints: 43200
                      range: true
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 600
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 600
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 6
                              type: lt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: PrysmSSV
                  __panelId__: "34"
                  description: Prysm Peers
                  summary: Prysm peers is {{ $values.B }}
                isPaused: false
              - uid: f2d94130-82ad-4462-8007-7be4dbb7f254
                title: Prysm-50 slots behind
                condition: C
                data:
                  - refId: A
                    relativeTimeRange:
                      from: 1800
                      to: 0
                    datasourceUid: PBFA97CFB590B2093
                    model:
                      datasource:
                          type: prometheus
                          uid: PBFA97CFB590B2093
                      expr: beacon_clock_time_slot-beacon_head_slot
                      interval: ""
                      intervalMs: 15000
                      legendFormat: node slots behind
                      maxDataPoints: 43200
                      refId: A
                  - refId: B
                    relativeTimeRange:
                      from: 1800
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params: []
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - B
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: A
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      reducer: last
                      refId: B
                      type: reduce
                  - refId: C
                    relativeTimeRange:
                      from: 1800
                      to: 0
                    datasourceUid: __expr__
                    model:
                      conditions:
                          - evaluator:
                              params:
                                  - 49
                              type: gt
                            operator:
                              type: and
                            query:
                              params:
                                  - C
                            reducer:
                              params: []
                              type: last
                            type: query
                      datasource:
                          type: __expr__
                          uid: __expr__
                      expression: B
                      hide: false
                      intervalMs: 1000
                      maxDataPoints: 43200
                      refId: C
                      type: threshold
                dashboardUid: PrysmSSV
                panelId: 28
                noDataState: NoData
                execErrState: Error
                for: 1m
                annotations:
                  __dashboardUid__: PrysmSSV
                  __panelId__: "28"
                  summary: '{{ $values.B }} Slots behind.'
                isPaused: false
              # - uid: ce1cb4bc-462c-4225-847c-0d4ebd3372ff
              #   title: CPU Usage
              #   condition: D
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: avg(1 - avg(rate(node_cpu_seconds_total{origin_prometheus=~"",job=~"node_exporter",mode="idle"}[2m])) by (instance)) * 100
              #         format: time_series
              #         hide: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall average used%
              #         maxDataPoints: 43200
              #         refId: A
              #         step: 240
              #     - refId: B
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - C
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 50
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #     - refId: D
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 70
              #                     - 0
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params: []
              #               reducer:
              #                 params: []
              #                 type: avg
              #               type: query
              #         datasource:
              #             name: Expression
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: D
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 7
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "7"
              #     description: CPU Usage is {{ $values.B }} %
              #     summary: Prysm-SSV- CPU Usage Alert
              #   isPaused: false
              # - uid: b1d341e2-2e7f-47d2-a222-97a28101ba99
              #   title: Memory Usage
              #   condition: C
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: (sum(node_memory_MemTotal_bytes{origin_prometheus=~"",job=~"node_exporter"} - node_memory_MemAvailable_bytes{origin_prometheus=~"",job=~"node_exporter"}) / sum(node_memory_MemTotal_bytes{origin_prometheus=~"",job=~"node_exporter"}))*100
              #         format: time_series
              #         hide: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall Average Used%
              #         maxDataPoints: 43200
              #         refId: A
              #     - refId: B
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - C
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 600
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 60
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #     - refId: D
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 70
              #                     - 0
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params: []
              #               reducer:
              #                 params: []
              #                 type: avg
              #               type: query
              #         datasource:
              #             name: Expression
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: D
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 195
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "195"
              #     description: Memory usage is {{ $values.B }} %
              #     summary: Prysm-SSV- Memory usage
              #   isPaused: false
              # - uid: e659d834-441e-4eba-82cd-d178a2e78abc
              #   title: Total Disk Usage
              #   condition: C
              #   data:
              #     - refId: A
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: PBFA97CFB590B2093
              #       model:
              #         datasource:
              #             type: prometheus
              #             uid: PBFA97CFB590B2093
              #         expr: (sum(avg(node_filesystem_size_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))) *100/(sum(avg(node_filesystem_avail_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))+(sum(avg(node_filesystem_size_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~"",job=~"node_exporter",fstype=~"xfs|ext.*"})by(device,instance))))
              #         format: time_series
              #         instant: false
              #         interval: 30m
              #         intervalFactor: 1
              #         intervalMs: 15000
              #         legendFormat: Overall Average Used%
              #         maxDataPoints: 43200
              #         refId: A
              #     - refId: B
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params: []
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - B
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: A
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         reducer: last
              #         refId: B
              #         type: reduce
              #     - refId: C
              #       relativeTimeRange:
              #         from: 43200
              #         to: 0
              #       datasourceUid: __expr__
              #       model:
              #         conditions:
              #             - evaluator:
              #                 params:
              #                     - 80
              #                 type: gt
              #               operator:
              #                 type: and
              #               query:
              #                 params:
              #                     - D
              #               reducer:
              #                 params: []
              #                 type: last
              #               type: query
              #         datasource:
              #             type: __expr__
              #             uid: __expr__
              #         expression: B
              #         hide: false
              #         intervalMs: 1000
              #         maxDataPoints: 43200
              #         refId: C
              #         type: threshold
              #   dashboardUid: OtherDashboards
              #   panelId: 197
              #   noDataState: NoData
              #   execErrState: Error
              #   for: 5m
              #   annotations:
              #     __dashboardUid__: OtherDashboards
              #     __panelId__: "197"
              #     description: Disk usage is {{ $values.B }} %
              #     summary: Prysm-SSV- Disk usage
              #   isPaused: false
      contactPoints:
        - orgId: 1
          name: Discord
          receivers:
            - uid: Zc8BIjL4k
              type: discord
              settings:
              url: https://discord.com/api/webhooks/1140534512795791461/5Um84Uw6Tn4xdbG1-m8jAeDuRovVT0BS1i0GGuFNtsS2BicZXfA6wPZjejZ43kRN5Wed
      policies:
        - orgId: 1
          receiver: Discord
          group_by: ['...']
          group_wait: 30s
          group_interval: 5m
          repeat_interval: 4h